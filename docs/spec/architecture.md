# Kingdom - Architecture Blueprint

> "ì£¼ë‹ˆì–´ ì‹œì ˆì˜ ë‚˜ë¥¼ ë§Œë“¤ì–´, ì‰´ìƒˆì—†ì´ ì¼í•˜ê²Œ í•œë‹¤"

## ë¹„ì „

EC2 ì¸ìŠ¤í„´ìŠ¤ì— Eddyì˜ ë¡œì»¬ ê°œë°œ í™˜ê²½ì„ ì¬í˜„í•˜ê³ , Claude Code ê¸°ë°˜ì˜ ììœ¨ì ì¸ ê°œë°œ ì‘ì—…ìë¥¼ ë§Œë“ ë‹¤.
í•œë²ˆ ì“°ê³  ë²„ë¦¬ëŠ” PoCê°€ ì•„ë‹Œ, ê³„ì† ë°œì „ì‹œí‚¬ ì¥ê¸° í”„ë¡œì íŠ¸ì´ë‹¤.

## êµ¬ì„± ì›ì¹™

| ì¸ê°„ì˜ ìš”ì†Œ | Kingdom ë§¤í•‘ | êµ¬í˜„ì²´ |
|------------|--------------|--------|
| ì§€ëŠ¥ | LLM + Prompt | Claude Code + Plugins/Skills |
| ê¸°ì–µ | Memory ê´€ë¦¬ | File-based Memory + CLAUDE.md |
| ëª¸ | í•˜ë“œì›¨ì–´ | EC2 Instance (M5.xlarge) |
| ì†ë°œ | ë„êµ¬ | CLI, MCP, GitHub, Jira, Slack |
| ì†Œí†µ | ì‚¬ì ˆ | Slack Web API (curl) |

## ì „ì²´ ì•„í‚¤í…ì²˜

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   External Events    â”‚               â”‚     Slack (ì‚¬ëŒ)      â”‚
        â”‚   GitHub Â· Jira      â”‚               â”‚   DM Â· ìŠ¤ë ˆë“œ ì‘ë‹µ     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                                      â”‚
                   â”‚ events (JSON)                        â”‚ Slack Web API (curl)
                   â–¼                                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ° EC2 Instance  (M5.xlarge)                                    â”‚
    â”‚                                                                   â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
    â”‚  â”‚   tmux: sentinel    â”‚          â”‚  tmux: envoy      â”‚          â”‚
    â”‚  â”‚   Polling Loop      â”‚          â”‚  Slack Web API    â”‚ â† ì‚¬ì ˆ   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
    â”‚           â”‚ event.json          â†— queue/messages/ ê°ì‹œ           â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”€â”€â”€â”€â”€â”˜                                 â”‚
    â”‚  â”‚   tmux: king        â”‚  â† ì™• (Orchestrator)                    â”‚
    â”‚  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                         â”‚
    â”‚     â”‚      â”‚      â”‚                                              â”‚
    â”‚  â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”â”Œâ”€â”€â–¼â”€â”€â”                                          â”‚
    â”‚  â”‚gen- â”‚â”‚gen- â”‚â”‚gen- â”‚  â† ì¥êµ° (Generals)                       â”‚
    â”‚  â”‚pr   â”‚â”‚test â”‚â”‚jira â”‚                                           â”‚
    â”‚  â””â”€â”€â”¬â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”˜â””â”€â”€â”¬â”€â”€â”˜                                          â”‚
    â”‚     â”‚      â”‚      â”‚                                              â”‚
    â”‚  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”                                           â”‚
    â”‚  â”‚  tmux: soldiers   â”‚  â† ë³‘ì‚¬ (Workers)                        â”‚
    â”‚  â”‚  Claude Code Ã—N   â”‚                                           â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
    â”‚                                                                   â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
    â”‚  â”‚  tmux: chamberlainâ”‚  â† ë‚´ê´€ (Resource Monitor)                â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
    â”‚                                                                   â”‚
    â”‚  ğŸ“ /opt/kingdom/                                               â”‚
    â”‚     â”œâ”€â”€ queue/           â† ì´ë²¤íŠ¸/ì‘ì—…/ë©”ì‹œì§€ í                  â”‚
    â”‚     â”œâ”€â”€ state/           â† ìƒíƒœ ì €ì¥ì†Œ                            â”‚
    â”‚     â”œâ”€â”€ logs/            â† ë¡œê·¸                                   â”‚
    â”‚     â””â”€â”€ memory/          â† ê³µìœ  ë©”ëª¨ë¦¬                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì—­í•  ì²´ê³„

| ì—­í•  | í•œê¸€ | ì˜ë¬¸ ì½”ë“œëª… | tmux ì„¸ì…˜ | ìƒì„¸ ë¬¸ì„œ |
|------|------|-----------|-----------|----------|
| ì™¸ë¶€ ê²½ê³„ | íŒŒìˆ˜ê¾¼ | `sentinel` | `sentinel` | [roles/sentinel.md](roles/sentinel.md) |
| ì¤‘ì•™ ì¡°ìœ¨ | ì™• | `king` | `king` | [roles/king.md](roles/king.md) |
| ë„ë©”ì¸ ì „ë¬¸ê°€ | ì¥êµ° | `general` | `gen-{domain}` | [roles/general.md](roles/general.md) |
| ì‘ì—… ì‹¤í–‰ | ë³‘ì‚¬ | `soldier` | `soldier-{id}` | [roles/soldier.md](roles/soldier.md) |
| ëŒ€ì™¸ ì†Œí†µ | ì‚¬ì ˆ | `envoy` | `envoy` | [roles/envoy.md](roles/envoy.md) |
| ë‚´ë¶€ ê´€ë¦¬ | ë‚´ê´€ | `chamberlain` | `chamberlain` | [roles/chamberlain.md](roles/chamberlain.md) |

## ì‹œìŠ¤í…œ ì„¤ê³„

| ë¬¸ì„œ | ë‚´ìš© |
|------|------|
| [systems/message-passing.md](systems/message-passing.md) | ì´ë²¤íŠ¸ í, ì‘ì—… í, íŒŒì¼ ê¸°ë°˜ í†µì‹  |
| [systems/memory.md](systems/memory.md) | 3ê³„ì¸µ ë©”ëª¨ë¦¬ ê´€ë¦¬ ì „ëµ |
| [systems/logging.md](systems/logging.md) | ë¡œê¹… ì²´ê³„ & ê°œì„  í¬ì¸íŠ¸ ìˆ˜ì§‘ |
| [systems/data-lifecycle.md](systems/data-lifecycle.md) | ë°ì´í„° ìƒëª…ì£¼ê¸° & ì •ë¦¬ ì •ì±… |
| [systems/filesystem.md](systems/filesystem.md) | ë””ë ‰í† ë¦¬ êµ¬ì¡° & ë°ì´í„° íë¦„ |
| [systems/event-types.md](systems/event-types.md) | ì´ë²¤íŠ¸ íƒ€ì… ì¹´íƒˆë¡œê·¸ (SSOT) |
| [systems/internal-events.md](systems/internal-events.md) | ë‚´ë¶€ ì´ë²¤íŠ¸ ì¹´íƒˆë¡œê·¸ |

## ì¸í”„ë¼ & ìš´ì˜

| ë¬¸ì„œ | ë‚´ìš© |
|------|------|
| [infra/ec2-setup.md](infra/ec2-setup.md) | EC2 ìŠ¤í™, ì†Œí”„íŠ¸ì›¨ì–´, ì¸ì¦, ë¹„ìš© |
| [infra/roadmap.md](infra/roadmap.md) | êµ¬í˜„ ë¡œë“œë§µ (Phase 1-4) |

## í•µì‹¬ ì„¤ê³„ ê²°ì •

| # | ê²°ì • | ì„ íƒ | ì´ìœ  |
|---|------|------|------|
| 1 | tmux vs CC Native Task | **Hybrid** | tmuxëŠ” í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬, CC `-p`ëŠ” ì‘ì—… ì‹¤í–‰ |
| 2 | Webhook vs Polling | **Polling** | ê³µê°œ endpoint ë¶ˆí•„ìš”, ì¸í”„ë¼ ë‹¨ìˆœí™” |
| 3 | ì—­í•  ê°„ í†µì‹  | **íŒŒì¼ ê¸°ë°˜ JSON** | ë‹¨ìˆœ, ë””ë²„ê¹… ìš©ì´, ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ |
| 4 | ë™ì‹œ ì‹¤í–‰ | **ìµœëŒ€ 3 ë³‘ì‚¬** | M5.xlarge ê¸°ì¤€ ì•ˆì „ ë§ˆì§„ |
| 5 | ì™• vs ì¥êµ° ë¶„ë¦¬ | **3ë‹¨ ê³„ì¸µ ìœ ì§€** | "ë¬´ì—‡ì„/ëˆ„êµ¬ì—ê²Œ" vs "ì–´ë–»ê²Œ" ë¶„ë¦¬ â†’ í™•ì¥ì„± |

## ì‘ì—… ìš°ì„ ìˆœìœ„

1. **PR Review** (`gen-pr`) â€” friday í”ŒëŸ¬ê·¸ì¸ í™œìš©
2. **Unit Test ì‘ì„±** (`gen-test`) â€” ìƒˆë¡œìš´ ì›Œí¬í”Œë¡œìš° êµ¬ì„±
3. **Jira Ticket ëŒ€ì‘** (`gen-jira`) â€” sunday í”ŒëŸ¬ê·¸ì¸ í™œìš©
4. **Briefing** (`gen-briefing`) â€” ì •ê¸° ì‹œìŠ¤í…œ ìƒíƒœ ë¸Œë¦¬í•‘ (cron ìŠ¤ì¼€ì¤„)
5. ~~Code Refactoring~~ â€” ë¦¬ìŠ¤í¬ ë†’ì•„ í›„ìˆœìœ„

## ì°¸ê³  ë¬¸ì„œ

- [Confluence: 20260206 - Lil Eddy ë§Œë“¤ê¸°](confluence/20260206-concept.md)
- [Confluence: 20260207 - Lil Eddy ë™ì‘ êµ¬ìƒ](confluence/20260207-operation-design.md)
